!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.SmoothParallax=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,r,n,o,a,i,c,l,s=0,u=0,p=[],d=[],g=t,f={},y={turkey:!0,mayo:!1,bread:"wheat"},m=function(){var t={},e=!1,r=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);for(;r<n;r++)!function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e&&"[object Object]"===Object.prototype.toString.call(r[n])?t[n]=m(!0,t[n],r[n]):t[n]=r[n])}(arguments[r]);return t},x=function(){j(),requestAnimationFrame(x)},b=function(){var t=g.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1],lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}},h=function(t){var r=t.getAttribute("container-id");return e=""!=r&&document.getElementById(r)?document.getElementById(r):t.parentNode},v=function(t){r=t.container.scrollWidth,n=t.container.scrollHeight,o=n+g.innerHeight,u=g.innerHeight-t.container.getBoundingClientRect().top,(s=u/o||0)<0?s=0:s>1&&(s=1)},A=function(){var t,e,r,n,o,a;p=document.querySelectorAll("[smooth-parallax]");for(var i=0;i<p.length;i++){t=parseFloat(p[i].getAttribute("start-movement"))||0,e=parseFloat(p[i].getAttribute("start-position-x"))||0,r=parseFloat(p[i].getAttribute("start-position-y"))||0,n=parseFloat(p[i].getAttribute("end-movement"))||1,o=parseFloat(p[i].getAttribute("end-position-x"))||0,a=parseFloat(p[i].getAttribute("end-position-y"))||0;var c={container:h(p[i]),start:{percent:t,x:e,y:r},end:{percent:n,x:o,y:a},diff:{percent:n-t,x:o-e,y:a-r},target:{},current:{}};d.push(c)}},j=function(){for(var t=0;t<p.length;t++){var e,r=d[t],n=p[t].scrollWidth,o=p[t].scrollHeight;v(r),s<=r.start.percent?(r.target.x=r.start.x*n,r.target.y=r.start.y*o):s>=r.end.percent?(r.target.x=r.end.x*n,r.target.y=r.end.y*o):(r.target.x=r.start.x*n+r.diff.x*(s-r.start.percent)/r.diff.percent*n,r.target.y=r.start.y*o+r.diff.y*(s-r.start.percent)/r.diff.percent*o),r.current.x?(r.current.x=r.current.x+.1*(r.target.x-r.current.x),r.current.y=r.current.y+.1*(r.target.y-r.current.y)):(r.current.x=r.target.x,r.current.y=r.target.y),e="translate3d("+r.current.x+"px, "+r.current.y+"px, 0px)",p[t].style[c+"Transform"]=e,p[t].style.transform=e}},w=function(){a=document.documentElement.clientWidth||g.innerWidth,i=b(),c="moz"==i.lowercase?"Moz":i.lowercase,l=i.css};return f.init=function(t){m(y,t||{});w(),console.log("initializeVariables"),a>=750&&(A(),x())},f});