!function(t,e){"function"==typeof define&&define.amd?define([],e(t)):"object"==typeof exports?module.exports=e(t):t.SmoothParallax=e(t)}("undefined"!=typeof global?global:this.window||this.global,function(t){"use strict";var e,r,n,a,o,c=x(),i=0,l=0,u="moz"==c.lowercase?"Moz":c.lowercase,s=(c.css,[]),d=[],p=t,f={},g={turkey:!0,mayo:!1,bread:"wheat"},y=function(){var t={},e=!1,r=0,n=arguments.length;"[object Boolean]"===Object.prototype.toString.call(arguments[0])&&(e=arguments[0],r++);for(;r<n;r++)!function(r){for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e&&"[object Object]"===Object.prototype.toString.call(r[n])?t[n]=y(!0,t[n],r[n]):t[n]=r[n])}(arguments[r]);return t},m=function(){A(),requestAnimationFrame(m)},x=function(){var t=p.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return{dom:"WebKit|Moz|MS|O".match(new RegExp("("+e+")","i"))[1],lowercase:e,css:"-"+e+"-",js:e[0].toUpperCase()+e.substr(1)}},b=function(t){var r=t.getAttribute("data-container-id");return e=""!=r&&document.getElementById(r)?document.getElementById(r):t.parentNode},h=function(t){r=t.container.scrollWidth,n=t.container.scrollHeight,a=n+p.innerHeight,l=p.innerHeight-t.container.getBoundingClientRect().top,(i=l/a||0)<0?i=0:i>1&&(i=1)},v=function(){var t,e,r,n,a,o;s=document.querySelectorAll("[data-smooth-parallax-element]");for(var c=0;c<s.length;c++){t=parseFloat(s[c].getAttribute("data-start-percent"))||0,e=parseFloat(s[c].getAttribute("data-start-x"))||0,r=parseFloat(s[c].getAttribute("data-start-y"))||0,n=parseFloat(s[c].getAttribute("data-end-percent"))||1,a=parseFloat(s[c].getAttribute("data-end-x"))||0,o=parseFloat(s[c].getAttribute("data-end-y"))||0;var i={container:b(s[c]),start:{percent:t,x:e,y:r},end:{percent:n,x:a,y:o},diff:{percent:n-t,x:a-e,y:o-r},target:{},current:{}};d.push(i)}},A=function(){for(var t=0;t<s.length;t++){var e=d[t],r=s[t].scrollWidth,n=s[t].scrollHeight;h(e),i<=e.start.percent?(e.target.x=e.start.x*r,e.target.y=e.start.y*n):i>=e.end.percent?(e.target.x=e.end.x*r,e.target.y=e.end.y*n):(e.target.x=e.start.x*r+e.diff.x*(i-e.start.percent)/e.diff.percent*r,e.target.y=e.start.y*n+e.diff.y*(i-e.start.percent)/e.diff.percent*n),e.current.x?(e.current.x=e.current.x+.1*(e.target.x-e.current.x),e.current.y=e.current.y+.1*(e.target.y-e.current.y)):(e.current.x=e.target.x,e.current.y=e.target.y),_transformValue="translate3d("+e.current.x+"px, "+e.current.y+"px, 0px)",s[t].style[u+"Transform"]=_transformValue,s[t].style.transform=_transformValue}},j=function(){o=document.documentElement.clientWidth||p.innerWidth};return f.init=function(t){y(g,t||{});document.addEventListener("click",function(){},!1),p.addEventListener("resize",function(){},!1),j(),o>=750&&(v(),m())},f});